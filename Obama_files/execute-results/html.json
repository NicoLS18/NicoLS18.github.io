{
  "hash": "b8827e05ee2ada84db8ed3226bc022a9",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Obama\"\nexecute: \n  warning: false\n  message: false\nformat:\n  html: \n    code-fold: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n#libraries\nlibrary(tidyverse)\nlibrary(ggplot2)\nlibrary(stringr)\nlibrary(lubridate)\n```\n:::\n\n\n\nThe data used in this analysis comes from the Obama Presidential Library, specifically from their Digital Research Room. It is publicly available at:\n\nðŸ”— <https://www.obamalibrary.gov/digital-research-room/archived-white-house-websites-and-social-media>\n\nThe dataset is titled **`tweets.csv`**, which contains tweets posted from the official \\@POTUS Twitter account during President Barack Obamaâ€™s administration. The dataset includes columns such as the text of each tweet, timestamp, and other metadata.\n\nThis analysis focuses primarily on the text column, which contains the actual content of the tweets. The goal is to examine how often President Obama mentioned key policy topics, such as healthcare, climate change, and the economy, over the course of his presidency. The analysis finishes with a study of when Obama tweets, looking for trends and then attempting to put a reason on these trends.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#reading in data\nobamaa <- readr::read_csv('tweets.csv')\nhead(obamaa)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 Ã— 10\n  tweet_id in_reply_to_status_id in_reply_to_user_id timestamp      source text \n     <dbl>                 <dbl>               <dbl> <chr>          <chr>  <chr>\n1  7.99e17                    NA                  NA 2016-11-16 15â€¦ \"<a hâ€¦ \"\\\"Nâ€¦\n2  7.99e17                    NA                  NA 2016-11-16 15â€¦ \"<a hâ€¦ \"\\\"Wâ€¦\n3  7.99e17                    NA                  NA 2016-11-16 15â€¦ \"<a hâ€¦ \"\\\"Tâ€¦\n4  7.99e17                    NA                  NA 2016-11-16 15â€¦ \"<a hâ€¦ \"RT â€¦\n5  7.99e17                    NA                  NA 2016-11-16 14â€¦ \"<a hâ€¦ \"\\\"Dâ€¦\n6  7.99e17                    NA                  NA 2016-11-16 14â€¦ \"<a hâ€¦ \"\\\"Wâ€¦\n# â„¹ 4 more variables: retweeted_status_id <dbl>,\n#   retweeted_status_user_id <dbl>, retweeted_status_timestamp <chr>,\n#   expanded_urls <chr>\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#cleaning the data for analysis\ncleanobama <- obamaa |>\n  mutate(text = str_to_lower(text),\n         text = str_replace_all(text, \"http[[:alnum:][:punct:]]*\", \"\"),  \n         text = str_replace_all(text, \"[[:punct:]]\", \" \"),\n         text = str_replace_all(text, \"â€”@POTUS.*\", \"\"),\n         text= str_replace_all(text, \"\\n\", \"\")) \n\n#what moves to remove from the analysis\nstopwords <- c(\"the\", \"and\", \"to\", \"of\", \"in\", \"a\", \"on\", \"for\", \"with\", \"is\", \"that\",\"s\", \"at\", \"potus\", \"  \", \"rt\", \"amp\", \"it\",\"this\", \"are\",\"â†’\")\n\n#filtering out stopwords and counting the words\nword_counts <- cleanobama |>\n  mutate(words = str_split(text, \"\\\\s+\")) |>  \n  unnest(words) |>  \n  filter(words != \"\", !words %in% stopwords) |>  \n  count(words, sort = TRUE)  \n\n#creating the graph \nword_counts |>\n  slice_max(n, n = 10) |> \n  ggplot(aes(x = reorder(words, n), y = n)) +\n  geom_col(fill = \"skyblue\") +\n  coord_flip() +\n  labs(title = \"Top 10 Words in Obama's Tweets\",\n       x = \"Word\",\n       y = \"Frequency\")\n```\n\n::: {.cell-output-display}\n![](Obama_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n\nThis graph illustrates which words Obama used most throughout his presidency in his tweets while not including \"the\", \"and\", \"to\", \"of\", \"in\", \"a\", \"on\", \"for\", \"with\", \"is\", \"that\",\"s\", \"at\", \"potus\", \"rt\", \"amp\", \"it\",\"this\", \"are\" and \"â†’\". This graph is not especially helpful as the most used words are not very descriptive of what is going on in the tweets. What we can learn is that many of his tweets are about current news as he utilizes \"today\" heavily and they tend to be directed to a specific audience. By utilizing \"we\" and \"our\" it illustrates that Obama is not just sharing opinions but directing messages to the general public. I do not have a clear explanation why Obama and president are utilized so heavily although I assume that Obama tended to share quotes from himself or articles written which therefore would cite him.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#words to focus on \npolicy_keywords <- c(\"healthcare\", \"education\", \"climate\", \"economy\", \n                     \"jobs\", \"tax\", \"immigration\", \"gun\", \"poverty\")\n\n\nobama <- obamaa |>\n  mutate(text = str_to_lower(text),  # stringr\n         text = str_replace_all(text, \"[[:punct:]]\", \" \"))  #stringr\n\n# regular expressions\nadd_word_boundaries <- function(word) {\n  paste0(\"(?<!\\\\w)\", word, \"(?!\\\\w)\")  #look behind lookaround\n}\n\n\npolicy_regexes <- setNames(map(policy_keywords, add_word_boundaries), policy_keywords)\n\n\npolicy_counts <- map_dfr(names(policy_regexes), ~{\n  keyword_regex <- policy_regexes[[.x]]\n\n\n  obama |>\n    mutate(has_word = str_detect(text, regex(keyword_regex))) |>\n    summarize(policy = .x,\n              count = sum(has_word))  \n}) |>\n  arrange(desc(count))\n\n\nprint(policy_counts)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 9 Ã— 2\n  policy      count\n  <chr>       <int>\n1 jobs          953\n2 economy       661\n3 tax           420\n4 education     399\n5 climate       318\n6 gun           272\n7 immigration   226\n8 poverty       144\n9 healthcare     46\n```\n\n\n:::\n:::\n\n\n\nThe number of times each of the following words is found exactly like this in unique tweets. Eliminates taxpayers and other additions to the words. I decided to create this plot because it highlighted which political themes he addressed most heavily in his tweets and is much more useful than the earlier utilized graph. The top three results are heavily tied together so I am not surprised to see them at the top as I am sure they would all appear together in each unique tweet.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nobamatime <- obamaa |>\n  # Split the timestamp into date, time, timezone\n  separate(timestamp, into = c(\"date\", \"time\", \"timezone\"), sep = \"\\\\s+\") |>\n  \n  mutate(time = str_replace_all(time, \"[^0-9:]\", \"\")) |>  \n  \n  # Turn time into an HMS object and create hour and time_chunk columns\n  mutate(tlsime = hms(time),  \n         hour_of_day = hour(tlsime),  \n         time_chunk = cut(hour_of_day, breaks = seq(0, 24, by = 4), \n                          labels = c(\"00:00-03:59\", \"04:00-07:59\", \"08:00-11:59\", \n                                     \"12:00-15:59\", \"16:00-19:59\", \"20:00-23:59\"), \n                          include.lowest = TRUE)) |> \n  mutate(time_chunk = factor(time_chunk, levels = c(\"00:00-03:59\", \"04:00-07:59\", \"08:00-11:59\", \n                                                    \"12:00-15:59\", \"16:00-19:59\", \"20:00-23:59\"))) |>  \n  arrange(time_chunk) \n\n# Now count the tweets by time of day\ntweetsbytime <- obamatime |>\n  count(time_chunk)  \n\n#graph\ntweetsbytime |>\n  ggplot(aes(x = time_chunk, y = n)) +\n  geom_col(fill = \"steelblue\") +\n\n  labs(title = \"Obama Tweets by Time of Day (4-hour Chunks)\",\n       x = \"Time of Day (4-hour intervals)\",\n       y = \"Number of Tweets\")\n```\n\n::: {.cell-output-display}\n![](Obama_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n\nI then began to work with the timestamp column of the table, first searching for any trends within the time of day in which he would post. I assumed late afternoon as he finished up the structured work day and moved into the later hours of the day in which he may have more freedom to catch up on twitter. This in turn would increase the likelihood that he would see something to repost or share thoughts on issues he had worked with that day. This hypothesis was shown to be correct although I was surprised to see a much larger portion of late night tweets than mid-late morning tweets.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#convert to time format\nobamatime <- obamatime |>\n  mutate(date = as.Date(date)) \n\n\ntweetsbymonth <- obamatime |>\n  mutate(month_year = format(date, \"%Y-%m\")) |>  \n  count(month_year)  \n\n#graph\ntweetsbymonth |>\n  ggplot(aes(x = month_year, y = n)) +\n  geom_col(fill = \"steelblue\") +\n  labs(title = \"Obama Tweets by Month Over His Whole Presidency\",\n       x = \"Month-Year\",\n       y = \"Number of Tweets\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))  \n```\n\n::: {.cell-output-display}\n![](Obama_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\nI was then interested if there were specific times of the year which brought upon extra tweeting from Obama but accidentally did not group by month so I had this messy graph. I was going to delete it but I found this trend quite interesting that the longer he was in office the more tweets he was sending out so I left this even though the x-axis is unclear. That jumble of numbers is the year followed by the month. For example 2012-02.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#convert to time format\ntweetsbymonth <- obamatime |>\n  mutate(month = format(date, \"%m\")) |>\n  count(month)  \n\n#graph\ntweetsbymonth |>\n  ggplot(aes(x = month, y = n)) +\n  geom_col(fill = \"steelblue\") +\n  labs(title = \"Obama Tweets by Month\",\n       x = \"Month\",\n       y = \"Number of Tweets\") +\n  scale_x_discrete(labels = c(\"01\" = \"January\", \"02\" = \"February\", \"03\" = \"March\", \n                              \"04\" = \"April\", \"05\" = \"May\", \"06\" = \"June\",\n                              \"07\" = \"July\", \"08\" = \"August\", \"09\" = \"September\", \n                              \"10\" = \"October\", \"11\" = \"November\", \"12\" = \"December\")) +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))  \n```\n\n::: {.cell-output-display}\n![](Obama_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n\nThis is the graph I was actually hoping to create earlier and found that it is much less helpful in showing any real trends. I found it interesting that January had the most tweets and maybe that was due to issuing plans or goals for the new year or possibly sharing information and reports about the inauguration. But what did surprise was that it looked like a ton of tweets were being sent by him so that led me to the following calculation just out of interest.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntotal_tweets <- nrow(obamatime)\n\ntotal_days <- n_distinct(obamatime$date)\n\naverage_tweets_per_day <- total_tweets / total_days\n\n\naverage_tweets_per_day\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n[1] 10.67786\n```\n\n\n:::\n:::\n\n\n\nThis function found that Obama averaged 10.68 tweets per day which seems pretty ridiculous to me although I do understand that often he was just reposting something that had been created by others. I also understand this is supposed to be an informal type of sharing information so these may be quick thoughts that he quickly types up and sends out. Lastly, it would not be surprising if there are other individuals who post for him so many of the tweets may not be manually handed by Obama.\n",
    "supporting": [
      "Obama_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}